{"ast":null,"code":"import _slicedToArray from \"/Users/ericaong/Desktop/Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ericaong/Desktop/Edge/src/Chat.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'react-chat-widget/lib/styles.css';\nimport './Chat.css';\nimport { Widget, addResponseMessage } from 'react-chat-widget';\nimport io from 'socket.io-client';\n\nlet Chat = props => {\n  let socket = io('localhost:8080');\n\n  let _useState = useState('Jerry'),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(() => {\n    socket.on('RECEIVE MESSAGE', function (data) {\n      console.log(data);\n\n      if (data.user !== user) {\n        addResponseMessage(data.message);\n      }\n    });\n    return () => {\n      socket.close();\n    }, [socket];\n  });\n\n  let handleNewUserMessage = newMessage => {\n    socket.emit('SEND MESSAGE', {\n      user: user,\n      message: newMessage\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Chat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Widget, {\n    handleNewUserMessage: handleNewUserMessage,\n    title: \"\".concat(props.contactname),\n    subtitle: \"\".concat(props.contactrole),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }));\n};\n\nexport default Chat;","map":{"version":3,"sources":["/Users/ericaong/Desktop/Edge/src/Chat.js"],"names":["React","useState","useEffect","Widget","addResponseMessage","io","Chat","props","socket","user","setUser","on","data","console","log","message","close","handleNewUserMessage","newMessage","emit","contactname","contactrole"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,kCAAP;AACA,OAAO,YAAP;AACA,SAASC,MAAT,EAAiBC,kBAAjB,QAA2C,mBAA3C;AACA,OAAOC,EAAP,MAAe,kBAAf;;AAEA,IAAIC,IAAI,GAAIC,KAAD,IAAW;AAElB,MAAIC,MAAM,GAAGH,EAAE,CAAC,gBAAD,CAAf;;AAFkB,kBAIMJ,QAAQ,CAAC,OAAD,CAJd;AAAA;AAAA,MAIZQ,IAJY;AAAA,MAINC,OAJM;;AAMlBR,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,MAAM,CAACG,EAAP,CAAU,iBAAV,EAA6B,UAASC,IAAT,EAAe;AACxCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,UAAGA,IAAI,CAACH,IAAL,KAAcA,IAAjB,EAAuB;AACnBL,QAAAA,kBAAkB,CAACQ,IAAI,CAACG,OAAN,CAAlB;AACH;AACJ,KALD;AAOA,WAAO,MAAM;AACTP,MAAAA,MAAM,CAACQ,KAAP;AACH,KAFM,EAEJ,CAACR,MAAD,CAFH;AAGH,GAXQ,CAAT;;AAaA,MAAIS,oBAAoB,GAAIC,UAAD,IAAgB;AACvCV,IAAAA,MAAM,CAACW,IAAP,CAAY,cAAZ,EAA4B;AACxBV,MAAAA,IAAI,EAAEA,IADkB;AAExBM,MAAAA,OAAO,EAAEG;AAFe,KAA5B;AAIH,GALD;;AAOA,SACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,oBAAoB,EAAED,oBAA9B;AAAoD,IAAA,KAAK,YAAKV,KAAK,CAACa,WAAX,CAAzD;AAAmF,IAAA,QAAQ,YAAKb,KAAK,CAACc,WAAX,CAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH,CA/BD;;AAiCA,eAAef,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'react-chat-widget/lib/styles.css';\nimport './Chat.css';\nimport { Widget, addResponseMessage } from 'react-chat-widget';\nimport io from 'socket.io-client';\n\nlet Chat = (props) => {\n\n    let socket = io('localhost:8080')\n\n    let [ user, setUser ] = useState('Jerry')\n\n    useEffect(() => {\n        socket.on('RECEIVE MESSAGE', function(data) {\n            console.log(data)\n            if(data.user !== user) {\n                addResponseMessage(data.message);\n            }\n        });\n\n        return () => {\n            socket.close()\n        }, [socket]\n    })\n\n    let handleNewUserMessage = (newMessage) => {\n        socket.emit('SEND MESSAGE', {\n            user: user,\n            message: newMessage\n        });\n    }\n\n    return (\n        <div className=\"Chat\">\n            <Widget handleNewUserMessage={handleNewUserMessage} title={`${props.contactname}`} subtitle={`${props.contactrole}`}></Widget>\n        </div>\n    )\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}