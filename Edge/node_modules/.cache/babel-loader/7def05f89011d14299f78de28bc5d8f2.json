{"ast":null,"code":"import _slicedToArray from \"/Users/lc4311/Desktop/Hackathon2019/Strandmon/cxa/Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lc4311/Desktop/Hackathon2019/Strandmon/cxa/Edge/src/Card.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport io from 'socket.io-client';\nimport { TransactionContract } from \"./setup\";\n\nlet InvestCard = props => {\n  console.log(props);\n  let mainSocket = io('localhost:8080');\n\n  let _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      amount = _useState2[0],\n      setAmount = _useState2[1];\n\n  useEffect(() => {\n    // let keys = Object.keys(dets)\n    if (props.dets) {\n      setAmount(props.dets.amount);\n    } else if (!props.dets && props.amount) {\n      setAmount(props.amount);\n    }\n  }, []);\n\n  let _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      reject = _useState4[0],\n      setReject = _useState4[1];\n\n  let handleChange = () => {\n    console.log(mainSocket);\n    mainSocket.emit('TRIGGER_TAB', {\n      x: \"emit\"\n    });\n  };\n\n  let acceptHandler = () => {\n    TransactionContract.setAmount(props.dets.hawker, props.dets.amount);\n    TransactionContract.setDuration(props.dets.hawker, props.dets.duration);\n    TransactionContract.setFrequency(props.dets.hawker, props.dets.frequency);\n    TransactionContract.setReturnValue(props.dets.hawker, props.dets.returnVal);\n    console.log(\"Logged to Blockchain\");\n  };\n\n  if (!reject) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: '14rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      variant: \"top\",\n      src: \"\".concat(props.iprofilepic),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, props.investorname), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"$ \".concat(amount, \" SGD\")), props.dets ? React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Expected Return: $\".concat(props.dets.returnVal, \" SGD\")) : null, props.dets ? React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Frequency: \".concat(props.dets.frequency, \" \")) : null, props.dets ? React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Duration: \".concat(props.dets.duration, \" \")) : null, React.createElement(Button, {\n      onClick: handleChange,\n      style: {\n        backgroundColor: '#009a7a',\n        border: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Contact\"), props.dets ? React.createElement(Button, {\n      style: {\n        backgroundColor: '#009a7a',\n        border: '0px'\n      },\n      onClick: acceptHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Accept\") : null, props.dets ? React.createElement(Button, {\n      style: {\n        backgroundColor: '#009a7a',\n        border: '0px'\n      },\n      onClick: () => setReject(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Decline\") : null)));\n  } else {\n    return null;\n  }\n};\n\nexport default InvestCard;","map":{"version":3,"sources":["/Users/lc4311/Desktop/Hackathon2019/Strandmon/cxa/Edge/src/Card.js"],"names":["React","useState","useEffect","Card","Button","io","TransactionContract","InvestCard","props","console","log","mainSocket","amount","setAmount","dets","reject","setReject","handleChange","emit","x","acceptHandler","hawker","setDuration","duration","setFrequency","frequency","setReturnValue","returnVal","width","iprofilepic","investorname","backgroundColor","border"],"mappings":"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","sourcesContent":["import React , {useState , useEffect } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport io from 'socket.io-client';\nimport { TransactionContract } from \"./setup\";\nlet InvestCard = (props) => {\n    console.log(props)\n    let mainSocket = io('localhost:8080')\n\n    let [amount ,setAmount ] = useState(0)\n\n    useEffect(()=>{\n        // let keys = Object.keys(dets)\n        if (props.dets){\n            setAmount(props.dets.amount)\n        } else if ( !props.dets && props.amount) {\n            setAmount(props.amount)\n        }\n\n        \n    },[])\n\n    let [reject, setReject] = useState(false)\n\n\n    let handleChange = () => {\n        console.log(mainSocket)\n        mainSocket.emit('TRIGGER_TAB', {\n            x:\"emit\"\n        });\n    }\n\n    let acceptHandler = () => {\n        TransactionContract.setAmount(props.dets.hawker,props.dets.amount)\n        TransactionContract.setDuration(props.dets.hawker,props.dets.duration)\n        TransactionContract.setFrequency(props.dets.hawker,props.dets.frequency)\n        TransactionContract.setReturnValue(props.dets.hawker,props.dets.returnVal)\n        console.log(\"Logged to Blockchain\")\n    }\n\n    if (!reject) { \n        return (\n        <div>\n            <Card style={{ width: '14rem' }}>\n            <Card.Img variant=\"top\" src={`${props.iprofilepic}`} />\n            <Card.Body>\n                <Card.Title>{props.investorname}</Card.Title>\n                <Card.Text>\n                {`$ ${amount} SGD`}\n                </Card.Text>\n                {props.dets ? <Card.Text>\n                {`Expected Return: $${props.dets.returnVal} SGD`}\n                </Card.Text>:null}\n                {props.dets ? <Card.Text>\n                {`Frequency: ${props.dets.frequency} `}\n                </Card.Text> : null}\n                {props.dets ? <Card.Text>\n                {`Duration: ${props.dets.duration} `}\n                </Card.Text>:null}\n                <Button onClick={handleChange} style={{\n                    backgroundColor: '#009a7a', \n                    border: '0px'\n                }}>Contact</Button>\n                {props.dets ? <Button style={{\n                    backgroundColor: '#009a7a', \n                    border: '0px' }} onClick={acceptHandler}>Accept</Button> : null}\n                {props.dets ? <Button style={{\n                    backgroundColor: '#009a7a', \n                    border: '0px'}} onClick={()=>setReject(true)}>Decline</Button> : null}\n            </Card.Body>\n            </Card>\n        </div>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default InvestCard;\n"]},"metadata":{},"sourceType":"module"}